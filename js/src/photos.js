photo={page:1,offset:10,init:function(){var t=this;$.getJSON("../js/src/photos.json",function(i){t.render(t.page,i),t.scroll(i)})},render:function(i,t){var o=(i-1)*this.offset,n=i*this.offset;if(!(o>=t.length)){for(var e,s,a,r,l="",g=o;g<n&&g<t.length;g++)s=(e=t[g].split(" ")[1]).split(".")[0],r=(a=t[g].split(" ")[0]).split(".")[0],l+='<div class="card" style="width:330px"><div class="img-box" style="height:'+330*a.split(".")[1]/r+'px"><a data-fancybox="gallery" href="http://sakuratears.oss-cn-beijing.aliyuncs.com/blog/photos/'+e+'?raw=true" data-caption="'+s+'"><img src="http://sakuratears.oss-cn-beijing.aliyuncs.com/blog/photos/'+e+'?raw=true"/></a></div></div>';$(".img-box-ul").append(l),$(".img-box-ul").lazyload(),this.minigrid()}},minigrid:function(){var i=new Minigrid({container:".ImageGrid",item:".card",gutter:12});i.mount(),$(window).resize(function(){i.mount()})},scroll:function(n){var e=this;$(window).scroll(function(){var i=window.pageYOffset,t=i+window.innerHeight,o=$(".ImageGrid").offset().top+$(".ImageGrid").height();i<=o&&o<t+0&&e.render(++e.page,n)})}},photo.init();